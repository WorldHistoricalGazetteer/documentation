# World Historical Gazetteer Documentation

This repository contains the source files and build workflow for the **World Historical Gazetteer** documentation site.

The documentation is written in **Markdown** and **reStructuredText**, built with **Sphinx**, and automatically deployed to **GitHub Pages**.

**Live site:** <https://WorldHistoricalGazetteer.github.io/documentation/>

---

## Getting Started (Recommended)

The easiest way to contribute is by using a **GitHub Codespace**, which provides a pre-configured development environment with all dependencies already installed.

### 1. Launch Codespace

Click the "Code" button and select **"Open with Codespaces"** to launch a new, ready-to-use environment directly in your browser.

### 2. Edit and Preview

Once the Codespace loads, you can:

1.  **Edit existing documentation** files (Markdown or reStructuredText) or add new ones.
2.  **Start the live preview** (which automatically rebuilds the docs when files change):
    ```bash
    ./start_preview.sh
    ```
3.  **View the preview:** The script uses `sphinx-autobuild` on port 8000. The Codespace will automatically prompt you to open a **"Simple Browser"** to view the documentation.

### 3. Commit and Push

1.  After making and previewing your changes, use the helper script to stage, commit, and push them to the `main` branch:
    ```bash
    ./git_push_docs.sh
    ```
2.  The script will automatically create a detailed commit message with a timestamp and the files changed.
3.  Once the push is complete, go to GitHub to create a **Pull Request** to merge your changes into `main`.

---

## Repository Structure

| File/Folder | Description |
| :--- | :--- |
| `index.md` | Main landing page for the documentation. |
| `conf.py` | Sphinx configuration file. |
| `Makefile` | Minimal Sphinx build commands (`make html`, `make clean`). |
| `requirements.txt` | Python dependencies required for building the documentation. |
| `start_preview.sh` | Script to run `sphinx-autobuild` for live preview in Codespace. |
| `git_push_docs.sh` | Script to stage, commit, and push documentation updates. |
| `_templates/` | Sphinx templates (optional for custom themes). |
| `_static/` | Static assets (CSS, images, etc.). |
| `.github/workflows/` | GitHub Actions workflow for building and deployment. |
| **Source files** | Markdown (`.md`) or reStructuredText (`.rst`) at the root or in subfolders. |
| **Build output** | `_build/html/` (generated by Sphinx, **not committed**). |

---

## Local Development (Alternative)

If you prefer to work locally, ensure you have Python 3.9+ and Git installed, and install the dependencies from `requirements.txt`.

1.  **Clone the repository and create a branch:**
    ```bash
    git clone [https://github.com/WorldHistoricalGazetteer/documentation.git](https://github.com/WorldHistoricalGazetteer/documentation.git)
    cd documentation
    git checkout -b my-doc-updates
    ```

2.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **Build and view:**
    ```bash
    make clean
    make html
    # Open _build/html/index.html in your browser to check edits
    ```
4.  **Commit and push** your changes, then create a Pull Request.

---

## GitHub Actions Deployment

Once changes are merged into `main`:

* **GitHub Actions automatically:**
    1. Installs dependencies.
    2. Builds the Sphinx documentation.
    3. Deploys `_build/html` to the `gh-pages` branch.
    4. Updates the live GitHub Pages site.
* **No manual deployment is needed.**