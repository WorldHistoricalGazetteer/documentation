erDiagram
%% All relationships go through ATTESTATION
    THING ||--o{ ATTESTATION : "thing_of"
    THING ||--o{ ATTESTATION : "relates_to"
    NAME ||--o{ ATTESTATION : "describes"
    ATTESTATION o{--|| ATTESTATION : "meta-attestation"
    ATTESTATION o{--|| GEOMETRY : "locates"
    ATTESTATION o{--|| TIMESPAN : "temporally_bounds"

%% Core entities
    THING {
        string id PK
        text description
        string thing_type "location, historical_entity, collection, period, route, itinerary, network"
        timestamp created
        timestamp modified
    }

    NAME {
        string id PK
        string name
        string language "ISO 639-3"
        string script "ISO 15924"
        string variant
        string transliteration
        string ipa
        vector embedding
        array name_type "toponym, chrononym, ethnonym, etc"
    }

    GEOMETRY {
        string id PK
        geometry geom "GeoJSON: Point, Polygon, LineString, Multi*"
        point representative_point
        geometry hull
        array bbox "[min_lon, min_lat, max_lon, max_lat]"
        string precision "exact, approximate, uncertain"
        integer precision_km
        string source_crs "EPSG code or historical CRS"
    }

    TIMESPAN {
        string id PK
        date start_earliest
        date start_latest
        date stop_earliest
        date stop_latest
        string label "human-readable period name"
        string precision "year, decade, century, era, geological_period"
        integer precision_value
    }

    ATTESTATION {
        string id PK
        string thing_id FK "references Thing being described"
        string relation_type "has_name, has_geometry, has_timespan, has_type, member_of, connected_to, same_as"
        string object_type "name, geometry, timespan, thing, classification"
        string object_id FK "references Name, Geometry, Timespan, Thing, or classification string"
        integer sequence "for routes and itineraries"
        json connection_metadata "for networks: trade goods, flow direction, etc"
        array source "array of source citations"
        array source_type "array: primary_source, secondary_source, dataset, map, etc"
        float certainty "0.0 to 1.0"
        text certainty_note "explanation of certainty assessment"
        text notes "additional context"
        timestamp created
        timestamp modified
        string contributor "user or system that created attestation"
    }